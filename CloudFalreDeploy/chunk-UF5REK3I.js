import{O as d,ga as t}from"./chunk-O7JBEJDP.js";var r=class s{STORAGE_KEY="gitlab_pinned_repos";_pinnedIds=t([]);pinnedIds=this._pinnedIds.asReadonly();constructor(){this.loadPinnedIds()}loadPinnedIds(){let n=localStorage.getItem(this.STORAGE_KEY);if(n)try{let e=JSON.parse(n);this._pinnedIds.set(e)}catch(e){console.error("Failed to parse pinned repos",e),this.clearPinned()}}savePinnedIds(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this._pinnedIds()))}isPinned(n){return this._pinnedIds().includes(n)}togglePin(n){let e=[...this._pinnedIds()],i=e.indexOf(n);i>-1?e.splice(i,1):e.push(n),this._pinnedIds.set(e),this.savePinnedIds()}reorderPinned(n,e){let i=[...this._pinnedIds()],[o]=i.splice(n,1),a=n<e?e-1:e;i.splice(a,0,o),this._pinnedIds.set(i),this.savePinnedIds()}getPinnedOrder(){return[...this._pinnedIds()]}setPinnedOrder(n){this._pinnedIds.set([...n]),this.savePinnedIds()}clearPinned(){this._pinnedIds.set([]),localStorage.removeItem(this.STORAGE_KEY)}static \u0275fac=function(e){return new(e||s)};static \u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"})};export{r as a};
