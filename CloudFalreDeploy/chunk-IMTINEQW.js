import{a as y,b as S,c as P,d as x,e as k,f as O,g as w,h as L}from"./chunk-QHV6GGML.js";import{c as b}from"./chunk-OWFKAA2Z.js";import{$a as C,Ca as d,Ga as p,Qa as f,Ra as h,Ub as M,Va as e,Wa as t,ab as v,hb as n,ib as _,lb as s,mb as g,nb as c,ua as m}from"./chunk-NYDFPH3R.js";function N(a,l){if(a&1&&(e(0,"div",10),n(1),t()),a&2){let r=v();m(),_(r.error)}}var E=class a{constructor(l,r){this.authService=l;this.router=r}username="";token="";error="";onSubmit(){if(!this.username.trim()||!this.token.trim()){this.error="Please enter both username and token";return}this.error="",this.authService.saveCredentials(this.username.trim(),this.token.trim()),this.router.navigate(["/pipelines"])}static \u0275fac=function(r){return new(r||a)(d(M),d(b))};static \u0275cmp=p({type:a,selectors:[["app-login"]],decls:23,vars:3,consts:[[1,"login-container"],[1,"login-card","card"],[1,"subtitle"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["id","username","type","text","name","username","placeholder","Enter your GitLab username","required","",1,"input",3,"ngModelChange","ngModel"],["for","token"],["id","token","type","password","name","token","placeholder","Enter your GitLab personal access token","required","",1,"input",3,"ngModelChange","ngModel"],[1,"help-text"],[1,"error-message"],["type","submit",1,"btn","btn-primary"]],template:function(r,o){r&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),n(3,"GitLab Dashboard"),t(),e(4,"p",2),n(5,"Enter your GitLab credentials to get started"),t(),e(6,"form",3),C("ngSubmit",function(){return o.onSubmit()}),e(7,"div",4)(8,"label",5),n(9,"Username"),t(),e(10,"input",6),c("ngModelChange",function(i){return g(o.username,i)||(o.username=i),i}),t()(),e(11,"div",4)(12,"label",7),n(13,"Personal Access Token"),t(),e(14,"input",8),c("ngModelChange",function(i){return g(o.token,i)||(o.token=i),i}),t(),e(15,"small",9),n(16," Create a token with "),e(17,"code"),n(18,"read_api"),t(),n(19," scope in your GitLab settings "),t()(),f(20,N,2,1,"div",10),e(21,"button",11),n(22,"Connect"),t()()()()),r&2&&(m(10),s("ngModel",o.username),m(4),s("ngModel",o.token),m(6),h(o.error?20:-1))},dependencies:[L,O,y,S,P,w,k,x],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:var(--spacing);background-color:var(--background)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:450px;padding:2rem}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:600;margin-bottom:.5rem;color:var(--foreground)}.subtitle[_ngcontent-%COMP%]{color:var(--muted-foreground);margin-bottom:2rem;font-size:.875rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:var(--foreground)}.form-group[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%}.help-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--muted-foreground);margin-top:.25rem}.help-text[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:var(--muted);padding:.125rem .375rem;border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.75rem}.error-message[_ngcontent-%COMP%]{padding:.75rem;background-color:oklch(from var(--destructive) l c h / .1);border:1px solid var(--destructive);border-radius:var(--radius-md);color:var(--destructive);font-size:.875rem}.login-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-top:.5rem}"]})};export{E as LoginComponent};
